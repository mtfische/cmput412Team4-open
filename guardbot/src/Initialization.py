#!/usr/bin/env python

# Import ROS and Smach libraries
import rospy, time
from smach import State, StateMachine

class Initialization(State):

    def __init__(self):
        State.__init__(self,
            outcomes=[
                'success',
                'create_map'
            ],
            output_keys=[
                'base_pose',
                'base_covariance',
                'asset',
                'waypoints',
                'safe'
            ]
        )

    def execute(self, userdata):

        userdata.base_pose = [(6.05698394775, 2.62897562981, 0.0), (0.0, 0.0, 0.698701405986, 0.715413408648)]
        userdata.base_covariance = [0.25, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.25, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.06853891945200942]
        userdata.asset = [(2.82422351837, 1.02962124348, 0.0), (0.0, 0.0, -0.736335332238, 0.676616788513)]
        userdata.waypoints = [
            [(-0.00998663902283, 2.06778120995, 0.0), (0.0, 0.0, -0.764674754816, 0.644416417658)],
            [(-0.627565145493, -1.39523768425, 0.0), (0.0, 0.0, 0.0422360330347, 0.999107660622)],
            [(5.62107467651, -1.87035083771, 0.0), (0.0, 0.0, 0.676085476692, 0.7368232001)],
            [(6.25145149231, 2.14612960815, 0.0), (0.0, 0.0, 0.999957234036, 0.0092482484746)]
        ]
        userdata.safe = [(2.37868762016, 2.98797225952, 0.0), (0.0, 0.0, -0.736335332238, 0.676616788513)]

        return 'success'
